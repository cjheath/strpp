<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<meta charset='UTF-8'>
<title>Px Grammar</title>
<link rel='stylesheet' href='../scripts/railroad-diagrams.css'>
<link rel='stylesheet' href='local.css' media='screen' type='text/css' />
<style>
body svg.railroad-diagram {
	background-color: hsl(30,20%, 95%);
}
h2 {
	font-family: sans-serif;
	font-size: 1em;
}
svg.railroad-diagram path,
svg.railroad-diagram rect
{
	stroke-width: 2px;
}
.railroad-diagram .terminal text {
	fill: #44F;
}
div svg.railroad-diagram {
	width: 80%;  // Scale to the width of the parent
	height: 100%;  // Preserve the ratio
}
dt {
	font-weight: bold;
	padding-bottom: 5px;
}
dd {
	padding-bottom: 10px;
}
</style>
<script src='../scripts/railroad-diagrams.js'></script>
<script>
var PxRailroads = {
  EOF:
    ComplexDiagram(Terminal('!any char')),
  space:
    ComplexDiagram(Choice(0, Terminal('[ \\t\\r\\n]'), Sequence(Terminal('//'), ZeroOrMore(Terminal('![\\n]'))))),
  blankline:
    ComplexDiagram(Sequence(Terminal('\\n'), ZeroOrMore(Terminal('[ \\t\\r]')), Choice(0, Terminal('\\n'), NonTerminal('EOF', {href: '#EOF'})))),
  TOP:
    ComplexDiagram(Sequence(Optional(NonTerminal('BOM', {href: '#BOM'})), ZeroOrMore(NonTerminal('space', {href: '#space'})), NonTerminal('rule', {href: '#rule'}))),
  BOM:
    ComplexDiagram(Terminal('\\u{FEFF}')),
  rule:
    ComplexDiagram(Sequence(NonTerminal('name', {href: '#name'}), Terminal('='), NonTerminal('alternates', {href: '#alternates'}), Optional(NonTerminal('action', {href: '#action'})), NonTerminal('blankline', {href: '#blankline'}))),
  action:
    ComplexDiagram(Sequence(Terminal('->'), Optional(Sequence(NonTerminal('name', {href: '#name'}), Terminal(':'))), NonTerminal('parameter', {href: '#parameter'}), ZeroOrMore(Sequence(Terminal(','), NonTerminal('parameter', {href: '#parameter'}))))),
  parameter:
    ComplexDiagram(Choice(0, NonTerminal('reference', {href: '#reference'}), Sequence(Terminal('\''), NonTerminal('literal', {href: '#literal'}), Terminal('\'')))),
  reference:
    ComplexDiagram(Sequence(NonTerminal('name', {href: '#name'}), ZeroOrMore(Sequence(Terminal('[.*]'), NonTerminal('name', {href: '#name'}))))),
  alternates:
    ComplexDiagram(Choice(0, OneOrMore(Sequence(Terminal('|'), NonTerminal('sequence', {href: '#sequence'}))), NonTerminal('sequence', {href: '#sequence'}))),
  sequence:
    ComplexDiagram(ZeroOrMore(NonTerminal('repetition', {href: '#repetition'}))),
  repeat_count:
    ComplexDiagram(Choice(0, Terminal('[?*+!&]'), NonTerminal('count', {href: '#count'}))),
  count:
    ComplexDiagram(Sequence(Terminal('{'), Choice(0, OneOrMore(Terminal('\\d')), NonTerminal('name', {href: '#name'})), Terminal('}'))),
  repetition:
    ComplexDiagram(Sequence(Optional(NonTerminal('repeat_count', {href: '#repeat_count'})), NonTerminal('atom', {href: '#atom'}), Optional(NonTerminal('label', {href: '#label'})))),
  label:
    ComplexDiagram(Sequence(Terminal(':'), NonTerminal('name', {href: '#name'}))),
  atom:
    ComplexDiagram(Choice(0, Terminal('.'), NonTerminal('name', {href: '#name'}), Sequence(Terminal('\\'), NonTerminal('property', {href: '#property'})), Sequence(Terminal('\''), NonTerminal('literal', {href: '#literal'}), Terminal('\'')), Sequence(Terminal('['), NonTerminal('class', {href: '#class'}), Terminal(']')), Sequence(Terminal('('), NonTerminal('group', {href: '#group'}), Terminal(')')))),
  group:
    ComplexDiagram(OneOrMore(NonTerminal('alternates', {href: '#alternates'}))),
  name:
    ComplexDiagram(Sequence(Terminal('[\\a_]'), ZeroOrMore(Terminal('[\\w_]')))),
  literal:
    ComplexDiagram(ZeroOrMore(Sequence(Terminal('![\']'), NonTerminal('literal_char', {href: '#literal_char'})))),
  literal_char:
    ComplexDiagram(Choice(0, Sequence(Terminal('\\'), Choice(0, Sequence(Optional(Terminal('[0-3]')), Terminal('[0-7]'), Optional(Terminal('[0-7]'))), Sequence(Terminal('x\\h'), Optional(Terminal('\\h'))), Sequence(Terminal('x{'), OneOrMore(Terminal('\\h')), Terminal('}')), Sequence(Terminal('u'), Terminal('\\h'), Optional(Terminal('\\h')), Optional(Terminal('\\h')), Optional(Terminal('\\h'))), Sequence(Terminal('u{'), OneOrMore(Terminal('\\h')), Terminal('}')), Terminal('![\\n]'))), Terminal('![\\\\n]'))),
  property:
    ComplexDiagram(Terminal('[adhswLU]')),
  class:
    ComplexDiagram(Sequence(Optional(Terminal('^')), Optional(Terminal('-')), OneOrMore(NonTerminal('class_part', {href: '#class_part'})))),
  class_part:
    ComplexDiagram(Sequence(Terminal('!]'), NonTerminal('class_char', {href: '#class_char'}), Optional(Sequence(Terminal('-'), Terminal('!]'), NonTerminal('class_char', {href: '#class_char'}))))),
  class_char:
    ComplexDiagram(Sequence(Terminal('![-]]'), NonTerminal('literal_char', {href: '#literal_char'})))
};
</script>
</head>

<body>
<dl>
<dt id='EOF'>EOF</dt>
  <dd><script>PxRailroads.EOF.addTo();</script></dd>
<dt id='space'>space</dt>
  <dd><script>PxRailroads.space.addTo();</script></dd>
<dt id='blankline'>blankline</dt>
  <dd><script>PxRailroads.blankline.addTo();</script></dd>
<dt id='TOP'>TOP</dt>
  <dd><script>PxRailroads.TOP.addTo();</script></dd>
<dt id='BOM'>BOM</dt>
  <dd><script>PxRailroads.BOM.addTo();</script></dd>
<dt id='rule'>rule</dt>
  <dd><script>PxRailroads.rule.addTo();</script></dd>
<dt id='action'>action</dt>
  <dd><script>PxRailroads.action.addTo();</script></dd>
<dt id='parameter'>parameter</dt>
  <dd><script>PxRailroads.parameter.addTo();</script></dd>
<dt id='reference'>reference</dt>
  <dd><script>PxRailroads.reference.addTo();</script></dd>
<dt id='alternates'>alternates</dt>
  <dd><script>PxRailroads.alternates.addTo();</script></dd>
<dt id='sequence'>sequence</dt>
  <dd><script>PxRailroads.sequence.addTo();</script></dd>
<dt id='repeat_count'>repeat_count</dt>
  <dd><script>PxRailroads.repeat_count.addTo();</script></dd>
<dt id='count'>count</dt>
  <dd><script>PxRailroads.count.addTo();</script></dd>
<dt id='repetition'>repetition</dt>
  <dd><script>PxRailroads.repetition.addTo();</script></dd>
<dt id='label'>label</dt>
  <dd><script>PxRailroads.label.addTo();</script></dd>
<dt id='atom'>atom</dt>
  <dd><script>PxRailroads.atom.addTo();</script></dd>
<dt id='group'>group</dt>
  <dd><script>PxRailroads.group.addTo();</script></dd>
<dt id='name'>name</dt>
  <dd><script>PxRailroads.name.addTo();</script></dd>
<dt id='literal'>literal</dt>
  <dd><script>PxRailroads.literal.addTo();</script></dd>
<dt id='literal_char'>literal_char</dt>
  <dd><script>PxRailroads.literal_char.addTo();</script></dd>
<dt id='property'>property</dt>
  <dd><script>PxRailroads.property.addTo();</script></dd>
<dt id='class'>class</dt>
  <dd><script>PxRailroads.class.addTo();</script></dd>
<dt id='class_part'>class_part</dt>
  <dd><script>PxRailroads.class_part.addTo();</script></dd>
<dt id='class_char'>class_char</dt>
  <dd><script>PxRailroads.class_char.addTo();</script></dd>
</dl>

</body>
</html>
